import{f as t,e,C as n,D as s,E as a,H as r,F as o,G as i,I as u,J as l,K as c,N as f,O as h,Q as m,T as p,p as g,h as d,U as y,V as A,W as v,X as x,r as w,j as M,m as b}from"./index-e8e769b7.js";import{r as E}from"./resolve-element-f9090af6.js";const k=n((()=>void 0!==window.ScrollTimeline));class T{constructor(t){this.animations=t.filter(Boolean)}then(t,e){return Promise.all(this.animations).then(t).catch(e)}getAll(t){return this.animations[0][t]}setAll(t,e){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=e}attachTimeline(n){const s=this.animations.map((s=>{if(!k()||!s.attachTimeline)return s.pause(),function(n,s){let a;const r=()=>{const{currentTime:t}=s,e=(null===t?0:t.value)/100;a!==e&&n(e),a=e};return t.update(r,!0),()=>e(r)}((t=>{s.time=s.duration*t}),n);s.attachTimeline(n)}));return()=>{s.forEach(((t,e)=>{t&&t(),this.animations[e].stop()}))}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach((e=>e[t]()))}play(){this.runAll("play")}pause(){this.runAll("pause")}stop(){this.runAll("stop")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function j(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=s(t)?new a(e,{enableHardwareAcceleration:!1}):new r(e,{enableHardwareAcceleration:!0});n.mount(t),o.set(t,n)}function O(t,e=100){const n=i({keyframes:[0,e],...t}),s=Math.min(u(n),l);return{type:"keyframes",ease:t=>n.next(s*t).value/e,duration:c(s)}}function I(t,e,n,s){var a;return"number"==typeof e?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):"<"===e?n:null!==(a=s.get(e))&&void 0!==a?a:t}function S(t,e){return f(t)?t[((t,e,n)=>{const s=e-t;return((n-t)%s+s)%s+t})(0,t.length,e)]:t}function W(t,e,n,s,a,r){!function(t,e,n){for(let s=0;s<t.length;s++){const a=t[s];a.at>e&&a.at<n&&(m(t,a),s--)}}(t,a,r);for(let o=0;o<e.length;o++)t.push({value:e[o],at:h(a,r,s[o]),easing:S(n,o)})}function C(t,e){return t.at===e.at?null===t.value?1:null===e.value?-1:0:t.at-e.at}function H(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function N(t,e){return e[t]||(e[t]=[]),e[t]}function B(t){return Array.isArray(t)?t:[t]}function F(t,e){return t[e]?{...t,...t[e]}:{...t}}const R=t=>"number"==typeof t,U=t=>t.every(R);function V(t,e,n,s){const a=E(t,s),r=a.length,i=[];for(let u=0;u<r;u++){const t=a[u];o.has(t)||j(t);const s=o.get(t),l={...n};"function"==typeof l.delay&&(l.delay=l.delay(u,r)),i.push(...x(s,{...e,transition:l},{}))}return new T(i)}function D(t,e,n){const s=[],a=function(t,{defaultTransition:e={},...n}={},s){const a=e.duration||.3,r=new Map,o=new Map,i={},u=new Map;let l=0,c=0,f=0;for(let h=0;h<t.length;h++){const n=t[h];if("string"==typeof n){u.set(n,c);continue}if(!Array.isArray(n)){u.set(n.name,I(c,n.at,l,u));continue}let[r,m,g={}]=n;void 0!==g.at&&(c=I(c,g.at,l,u));let v=0;const x=(t,n,s,r=0,o=0)=>{const i=B(t),{delay:u=0,times:l=d(i),type:h="keyframes",...m}=n;let{ease:p=e.ease||"easeOut",duration:g}=n;const x="function"==typeof u?u(r,o):u,w=i.length;if(w<=2&&"spring"===h){let t=100;if(2===w&&U(i)){const e=i[1]-i[0];t=Math.abs(e)}const e={...m};void 0!==g&&(e.duration=A(g));const n=O(e,t);p=n.ease,g=n.duration}null!=g||(g=a);const M=c+x,b=M+g;1===l.length&&0===l[0]&&(l[1]=1);const E=l.length-i.length;E>0&&y(l,E),1===i.length&&i.unshift(null),W(s,i,p,l,M,b),v=Math.max(x+g,v),f=Math.max(b,f)};if(p(r))x(m,g,N("default",H(r,o)));else{const t=E(r,s,i),e=t.length;for(let n=0;n<e;n++){const s=H(t[n],o);for(const t in m)x(m[t],F(g,t),N(t,s),n,e)}}l=c,c+=v}return o.forEach(((t,s)=>{for(const a in t){const o=t[a];o.sort(C);const i=[],u=[],l=[];for(let t=0;t<o.length;t++){const{at:e,value:n,easing:s}=o[t];i.push(n),u.push(g(0,f,e)),l.push(s||"easeOut")}0!==u[0]&&(u.unshift(0),i.unshift(i[0]),l.unshift("easeInOut")),1!==u[u.length-1]&&(u.push(1),i.push(null)),r.has(s)||r.set(s,{keyframes:{},transition:{}});const c=r.get(s);c.keyframes[a]=i,c.transition[a]={...e,duration:f,ease:l,times:u,...n}}})),r}(t,e,n);return a.forEach((({keyframes:t,transition:e},n)=>{let a;a=p(n)?v(n,t.default,e.default):V(n,t,e),s.push(a)})),new T(s)}const G=function(t,e,n){let s;var a;return a=t,s=Array.isArray(a)&&Array.isArray(a[0])?D(t,e,J):function(t){return"object"==typeof t&&!Array.isArray(t)}(e)?V(t,e,n,J):v(t,e,n),J&&J.animations.push(s),s};var J;const K={some:0,all:1};function L(t,{root:e,margin:n,amount:s,once:a=!1}={}){const[r,o]=w.useState(!1);return w.useEffect((()=>{if(!t.current||a&&r)return;const i={root:e&&e.current||void 0,margin:n,amount:s};return function(t,e,{root:n,margin:s,amount:a="some"}={}){const r=E(t),o=new WeakMap,i=new IntersectionObserver((t=>{t.forEach((t=>{const n=o.get(t.target);if(t.isIntersecting!==Boolean(n))if(t.isIntersecting){const n=e(t);"function"==typeof n?o.set(t.target,n):i.unobserve(t.target)}else n&&(n(t),o.delete(t.target))}))}),{root:n,rootMargin:s,threshold:"number"==typeof a?a:K[a]});return r.forEach((t=>i.observe(t))),()=>i.disconnect()}(t.current,(()=>(o(!0),a?void 0:()=>o(!1))),i)}),[e,t,n,a,s]),r}const P=({to:t,duration:e=2,suffix:n="",prefix:s="",className:a=""})=>{const r=w.useRef(null),o=L(r,{once:!0,margin:"-100px"}),i=w.useRef(null);return w.useEffect((()=>{if(o&&i.current){const a=i.current,r=G(0,t,{duration:e,onUpdate(t){a.textContent=s+Math.round(t).toLocaleString()+n}});return()=>r.stop()}}),[t,e,o,s,n]),M.jsx(b.span,{ref:r,className:a,children:M.jsxs("span",{ref:i,children:[s,"0",n]})})};export{P as A};
