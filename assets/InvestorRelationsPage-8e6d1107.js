import{c as e,u as t,a0 as a,r as i,j as r,m as s,B as o}from"./index-e8e769b7.js";import{C as n,a as l,b as c,c as d,d as m}from"./card-5babeea8.js";import{L as p,I as x,T as h}from"./textarea-33cc654d.js";import{s as y}from"./supabaseClient-30028170.js";import{L as u}from"./loader-2-a09a2b0a.js";import{A as v}from"./index-a898cec8.js";import{D as g}from"./download-863e6914.js";import{T as f}from"./trending-up-950c799f.js";import{L as j}from"./leaf-b55fb254.js";const b=e("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),w=e("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),N=e("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),k=e("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"12sd6o"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]),D=e("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),C=()=>{const e=[{x:0,y:60},{x:20,y:40},{x:40,y:55},{x:60,y:30},{x:80,y:45},{x:100,y:25},{x:120,y:35},{x:140,y:20},{x:160,y:30},{x:180,y:15}],t=e.map(((e,t)=>`${0===t?"M":"L"} ${e.x} ${e.y}`)).join(" ");return r.jsxs("svg",{viewBox:"0 0 200 80",className:"w-full h-32",children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"chartGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"rgb(34, 197, 94)",stopOpacity:"0.8"}),r.jsx("stop",{offset:"100%",stopColor:"rgb(34, 197, 94)",stopOpacity:"0.1"})]})}),[0,20,40,60].map((e=>r.jsx("line",{x1:"0",y1:e,x2:"200",y2:e,stroke:"currentColor",strokeOpacity:"0.1",strokeDasharray:"2 2"},e))),r.jsx(s.path,{d:`${t} L 180 80 L 0 80 Z`,fill:"url(#chartGradient)",initial:{opacity:0},animate:{opacity:1},transition:{duration:1}}),r.jsx(s.path,{d:t,fill:"none",stroke:"rgb(34, 197, 94)",strokeWidth:"3",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:2,ease:"easeInOut"}}),e.map(((e,t)=>r.jsx(s.circle,{cx:e.x,cy:e.y,r:"4",fill:"rgb(34, 197, 94)",initial:{scale:0},animate:{scale:1},transition:{delay:.1*t+.5,type:"spring"}},t)))]})},T=({delay:e=0})=>{const t=["$","€","£","¥","₹"],a=t[Math.floor(Math.random()*t.length)];return r.jsx(s.div,{className:"absolute text-2xl font-bold text-primary/20 pointer-events-none",initial:{x:Math.random()*window.innerWidth,y:window.innerHeight+50,rotate:0},animate:{y:-100,rotate:360,x:Math.random()*window.innerWidth},transition:{duration:15+10*Math.random(),delay:e,repeat:1/0,ease:"linear"},children:a})},E=()=>{const e=t(),{toast:E}=a(),[L,$]=i.useState({name:"",email:"",message:""}),[S,H]=i.useState([]),[z,F]=i.useState(!0),[M,I]=i.useState(null),[O,A]=i.useState("all"),[P,_]=i.useState(null),K="website-images";i.useEffect((()=>{(async()=>{F(!0),I(null);try{const{data:e,error:t}=await y.from("investor_documents").select("id, file_name, storage_path, category, upload_date").order("category",{ascending:!0}).order("upload_date",{ascending:!1});if(t)throw t;H(e||[])}catch(t){I(e("investorDocsErrorFetch")||"Failed to load documents."),E({title:e("errorToastTitle")||"Error",description:e("investorDocsErrorFetch")||"Could not fetch investor documents.",variant:"destructive"})}finally{F(!1)}})()}),[e,E]);const R=i.useMemo((()=>S.reduce(((e,t)=>{const a=t.category||"General";return e[a]||(e[a]=[]),e[a].push(t),e}),{})),[S]),U=e=>{const{id:t,value:a}=e.target;$((e=>({...e,[t.replace("ir-","")]:a})))},q={initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.5}},V=[{icon:r.jsx(f,{className:"w-8 h-8"}),titleKey:"investorHighlight1Title",descriptionKey:"investorHighlight1Desc",color:"from-green-500/20 to-emerald-500/20",chart:!0},{icon:r.jsx(D,{className:"w-8 h-8"}),titleKey:"investorHighlight2Title",descriptionKey:"investorHighlight2Desc",color:"from-blue-500/20 to-indigo-500/20",value:"95%",label:"Compliance Score"},{icon:r.jsx(j,{className:"w-8 h-8"}),titleKey:"investorHighlight3Title",descriptionKey:"investorHighlight3Desc",color:"from-teal-500/20 to-cyan-500/20",value:"A+",label:"ESG Rating"}],B=["all",...Object.keys(R)];return r.jsxs("section",{id:"investor-relations",className:"py-20 bg-gradient-to-b from-background to-muted/20 dark:from-background dark:to-muted/10 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(5)].map(((e,t)=>r.jsx(T,{delay:3*t},t)))}),r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[r.jsxs(s.div,{...q,className:"text-center mb-16",children:[r.jsx(s.h2,{className:"text-4xl sm:text-5xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-primary to-green-600 dark:from-primary dark:to-green-400",initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.6,type:"spring"},children:e("investorRelationsTitle")}),r.jsx(s.p,{className:"text-lg text-foreground/70 max-w-3xl mx-auto",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:e("investorRelationsSubtitle")})]}),r.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:V.map(((t,a)=>r.jsx(s.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.5,delay:.1*a},whileHover:{y:-5},children:r.jsxs(n,{className:"h-full hover:shadow-2xl transition-all duration-300 relative overflow-hidden group",children:[r.jsx(s.div,{className:`absolute inset-0 bg-gradient-to-br ${t.color} opacity-0 group-hover:opacity-100 transition-opacity duration-300`}),r.jsxs(l,{className:"relative z-10",children:[r.jsx(s.div,{className:"text-primary mb-4",whileHover:{scale:1.1,rotate:5},transition:{type:"spring"},children:t.icon}),r.jsx(c,{className:"text-xl",children:e(t.titleKey)})]}),r.jsxs(d,{className:"relative z-10",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e(t.descriptionKey)}),t.chart&&r.jsx(C,{}),t.value&&r.jsxs(s.div,{initial:{scale:0},whileInView:{scale:1},viewport:{once:!0},transition:{delay:.5,type:"spring"},className:"text-center mt-4",children:[r.jsx("p",{className:"text-3xl font-bold text-primary",children:t.value}),r.jsx("p",{className:"text-xs text-muted-foreground",children:t.label})]})]})]})},t.titleKey)))}),r.jsx(s.div,{...q,transition:{...q.transition,delay:.4},children:r.jsxs(n,{className:"mb-16 shadow-xl bg-gradient-to-br from-primary/5 to-green-500/5 dark:from-primary/10 dark:to-green-500/10 border-primary/20",children:[r.jsxs(l,{className:"text-center",children:[r.jsx(s.div,{animate:{rotate:[0,360]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"inline-block",children:r.jsx(N,{className:"w-12 h-12 text-primary mx-auto mb-3"})}),r.jsx(c,{className:"text-2xl md:text-3xl",children:e("investorDocsTitle")}),r.jsx(m,{className:"mt-2",children:e("investorDocsSubtitle")})]}),r.jsxs(d,{children:[r.jsx("div",{className:"flex flex-wrap gap-2 justify-center mb-8",children:B.map((t=>r.jsx(s.button,{onClick:()=>A(t),className:"px-4 py-2 rounded-full text-sm font-medium transition-all "+(O===t?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"),whileHover:{scale:1.05},whileTap:{scale:.95},children:"all"===t?e("allCategoriesLabel")||"All":e(t)||t},t)))}),z?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx(s.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:r.jsx(u,{className:"w-8 h-8 text-primary"})})}):M?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[r.jsx(b,{className:"w-12 h-12 text-destructive mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:M})]}):0===Object.keys(R).length?r.jsx("p",{className:"text-center text-muted-foreground py-12",children:e("investorNoDocsAvailable")}):r.jsx(v,{mode:"wait",children:r.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:Object.entries(R).filter((([e])=>"all"===O||e===O)).map((([t,a])=>r.jsxs("div",{className:"mb-8",children:[r.jsxs(s.h3,{className:"text-lg font-semibold mb-4 text-primary flex items-center gap-2",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:[r.jsx(w,{className:"w-5 h-5"}),e(t)||t]}),r.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(((t,a)=>r.jsx(s.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.05*a},onHoverStart:()=>_(t.id),onHoverEnd:()=>_(null),style:{transform:P===t.id?"perspective(1000px) rotateY(-5deg)":"perspective(1000px) rotateY(0deg)"},className:"transition-all duration-300",children:r.jsxs(n,{className:"h-full flex flex-col hover:shadow-2xl transition-all duration-300 group border-primary/10 hover:border-primary/30 relative overflow-hidden",children:[r.jsx(s.div,{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),r.jsxs(l,{className:"flex-row items-center space-x-4 p-4 relative z-10",children:[r.jsx(s.div,{className:"p-3 bg-primary/10 rounded-lg group-hover:bg-primary/20 transition-colors",animate:{rotate:P===t.id?[0,-10,10,-10,0]:0},transition:{duration:.5},children:r.jsx(N,{className:"w-8 h-8 text-primary"})}),r.jsx(c,{className:"text-base font-semibold leading-tight text-foreground group-hover:text-primary transition-colors",children:e(t.file_name)||t.file_name})]}),r.jsxs(d,{className:"flex-grow p-4 pt-0 relative z-10",children:[r.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[e("investorDocCategoryLabel")||"Category",": ",r.jsx("span",{className:"font-medium text-foreground/80",children:e(t.category)||t.category})]}),t.upload_date&&r.jsxs("p",{className:"text-xs text-muted-foreground",children:[e("investorDocUploadedLabel")||"Uploaded",": ",r.jsx("span",{className:"font-medium text-foreground/80",children:new Date(t.upload_date).toLocaleDateString()})]})]}),r.jsx("div",{className:"p-4 mt-auto relative z-10",children:r.jsxs(o,{size:"sm",className:"w-full transform transition-all group-hover:scale-105 group-hover:bg-primary/90",onClick:()=>(async(t,a)=>{if(t&&a)try{const{data:i,error:r}=await y.storage.from(K).download(t);if(r){let i=e("investorDocsDownloadError")||`Could not download ${a}. Please try again.`;return r.message.includes("Object not found")?i=e("investorDocsFileNotFoundError")||`File not found in storage: ${t}. Please check the file path and bucket.`:r.message.includes("permission denied")&&(i=e("investorDocsPermissionError")||`Permission denied. Please check bucket policies for public access to ${K}.`),void E({title:e("errorToastTitle")||"Error",description:i,variant:"destructive"})}if(!i)return void E({title:e("errorToastTitle")||"Error",description:e("investorDocsEmptyFileError")||`The file ${a} appears to be empty or could not be retrieved.`,variant:"destructive"});const s=new Blob([i],{type:i.type||"application/octet-stream"}),o=document.createElement("a");o.href=URL.createObjectURL(s),o.download=a,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(o.href),E({title:e("investorDocsDownloadSuccessTitle")||"Download Started",description:`${a} ${e("investorDocsDownloadSuccessDesc")||"is downloading."}`})}catch(i){E({title:e("errorToastTitle")||"Error",description:e("investorDocsGenericDownloadError")||`An unexpected error occurred while trying to download ${a}.`,variant:"destructive"})}else E({title:e("errorToastTitle")||"Error",description:e("investorDocsInvalidPathError")||"File path or name is missing.",variant:"destructive"})})(t.storage_path,t.file_name),children:[r.jsx(g,{className:"mr-2 h-4 w-4"})," ",e("downloadButtonText")||"Download"]})})]})},t.id)))})]},t)))},O)})]})]})}),r.jsx(s.div,{...q,transition:{...q.transition,delay:.6},children:r.jsxs(n,{className:"max-w-2xl mx-auto shadow-2xl p-6 sm:p-8 bg-gradient-to-br from-green-50 to-teal-50 dark:from-green-900/50 dark:to-teal-900/50 border-primary/30 relative overflow-hidden",children:[r.jsx(s.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:3,repeat:1/0,repeatDelay:2}}),r.jsxs(l,{className:"text-center p-0 mb-6 relative z-10",children:[r.jsx(s.div,{whileHover:{scale:1.1,rotate:5},transition:{type:"spring"},children:r.jsx(k,{className:"w-12 h-12 text-primary mx-auto mb-3"})}),r.jsx(c,{className:"text-2xl md:text-3xl",children:e("investorContactFormTitle")}),r.jsx(m,{className:"mt-2",children:e("investorContactFormSubtitle")})]}),r.jsx(d,{className:"p-0 relative z-10",children:r.jsxs("form",{onSubmit:async t=>{t.preventDefault();const a=`${e("investorInquirySubject")||"Investor Inquiry from"} ${L.name}`,i=`${e("formNameLabel")}: ${L.name}%0D%0A${e("formEmailLabel")}: ${L.email}%0D%0A${e("formMessageLabel")}: ${L.message}`,r=`mailto:saif.raza9@gmail.com?subject=${encodeURIComponent(a)}&body=${encodeURIComponent(i)}`;try{window.location.href=r,E({title:e("emailClientOpenedTitle")||"Email Client Opened",description:e("emailClientOpenedDesc")||"Please send the email from your mail client.",variant:"default"}),$({name:"",email:"",message:""})}catch(s){E({title:e("errorToastTitle")||"Error",description:e("emailClientErrorDesc")||"Could not open email client. Please copy the details manually.",variant:"destructive"})}},className:"space-y-6",children:[r.jsxs(s.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7},children:[r.jsx(p,{htmlFor:"ir-name",children:e("formFullNameLabel")}),r.jsx(x,{id:"ir-name",name:"name",type:"text",placeholder:e("formFullNamePlaceholder"),value:L.name,onChange:U,required:!0,className:"transition-all focus:scale-[1.02]"})]}),r.jsxs(s.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.8},children:[r.jsx(p,{htmlFor:"ir-email",children:e("formEmailLabel")}),r.jsx(x,{id:"ir-email",name:"email",type:"email",placeholder:e("formEmailPlaceholder"),value:L.email,onChange:U,required:!0,className:"transition-all focus:scale-[1.02]"})]}),r.jsxs(s.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.9},children:[r.jsx(p,{htmlFor:"ir-message",children:e("formMessageLabel")}),r.jsx(h,{id:"ir-message",name:"message",placeholder:e("formMessagePlaceholderInvestors"),value:L.message,onChange:U,rows:4,required:!0,className:"transition-all focus:scale-[1.02]"})]}),r.jsx(s.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsx(o,{type:"submit",className:"w-full",size:"lg",children:e("formSubmitButton")})})]})})]})})]})]})},L=()=>r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-white to-bio-green-50 dark:from-bio-green-800 dark:to-bio-green-900",children:r.jsx(E,{})});export{L as default};
